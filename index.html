<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ - Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© 100% ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©. Ø´Ø­Ù† Ù…Ø¬Ø§Ù†ÙŠ ÙˆØ®Ø¯Ù…Ø© Ø¹Ù…Ù„Ø§Ø¡ 24/7">
    <meta name="google-site-verification" content="google46716526f647233b" />
    <meta name="msvalidate.01" content="BingSiteAuth" />
    <meta name="facebook-domain-verification" content="alsooq-alsaudi-fb-verification" />
    <meta name="pinterest-site-verification" content="alsooq-alsaudi-pinterest-verification" />
    <meta name="merchant-verification" content="alsooq-alsaudi-verified" />
    <meta name="business-type" content="retail" />
    <meta name="country" content="SA" />
    <meta name="currency" content="SAR" />
    <meta name="language" content="ar" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: https:; connect-src 'self' https: http://127.0.0.1:5500 ws://127.0.0.1:5500;">
    <title>Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ | ÙØ®Ø§Ù…Ø© Ø§Ù„ØªØ³ÙˆÙ‚ ÙˆØ³Ø±Ø¹Ø© Ø§Ù„ØªÙˆØµÙŠÙ„</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Organization",
      "name": "Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ",
      "alternateName": "alsooq-alsaudi",
      "url": "https://sherow1982.github.io/alsooq-alsaudi/",
      "logo": "https://sherow1982.github.io/alsooq-alsaudi/logo.png",
      "description": "Ù…ØªØ¬Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù…ØªØ®ØµØµ ÙÙŠ Ø¨ÙŠØ¹ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© Ù„Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©",
        "addressLocality": "Ø§Ù„Ø±ÙŠØ§Ø¶",
        "postalCode": "12211",
        "addressCountry": "SA"
      },
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+201110760081",
        "contactType": "customer service",
        "availableLanguage": "Arabic"
      },
      "email": "sherow1982@gmail.com",
      "areaServed": {
        "@type": "Country",
        "name": "Saudi Arabia"
      },
      "paymentAccepted": "Cash on Delivery",
      "currenciesAccepted": "SAR",
      "priceRange": "100-1500 SAR"
    }
    </script>

    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-KD9H36GM');</script>
    <!-- End Google Tag Manager -->

    <!-- Google Analytics (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-0P75920MMY"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-0P75920MMY');
    </script>
</head>

<body>

    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KD9H36GM"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <div class="topbar">
        <div class="topbar-content">
            <div class="topbar-left">
                <span>ğŸ… Ù…Ù†ØªØ¬Ø§Øª Ø£ØµÙ„ÙŠØ© 100% Ø¨Ø¶Ù…Ø§Ù† Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</span>
            </div>
            <div class="topbar-right">
                <span>ğŸ“ Ø®Ø¯Ù…Ø© Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡: 201110760081</span>
            </div>
        </div>
    </div>

    <header class="header">
        <div class="header-content">
            <div class="logo">
                <a href="index.html">
                    <img src="logo.png" alt="Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ">
                </a>
            </div>
            <nav class="nav-links" id="navLinks">
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
                <a href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a>
                <a href="https://wa.me/201110760081" class="whatsapp-cta" target="_blank">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.182-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766 0-3.18-2.587-5.771-5.764-5.771zm3.392 8.244c-.144.405-.837.774-1.17.824-.299.045-.677.063-1.092-.069-.252-.08-.575-.187-.988-.365-1.739-.751-2.874-2.502-2.961-2.617-.087-.116-.708-.94-.708-1.793s.448-1.273.607-1.446c.159-.173.346-.217.462-.217s.231.006.332.012c.109.006.252-.041.397.308.145.348.499 1.223.541 1.312.041.089.068.191.008.312-.06.121-.09.197-.181.302-.09.105-.19.235-.272.316-.09.09-.184.188-.079.365.105.177.465.766.997 1.239.685.611 1.26.802 1.437.89.177.089.282.075.387-.041.105-.116.443-.518.562-.695.119-.177.239-.148.405-.087.166.061 1.054.497 1.234.587s.3.135.344.209c.044.075.044.436-.1.841z"/>
                    </svg>
                    <span>Ø§Ø·Ù„Ø¨ Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨</span>
                </a>
            </nav>
            <div class="menu-toggle" id="menuToggle">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="hero-overlay"></div>
        <img src="hero-banner.png" alt="Saudi Luxe Store" class="hero-image">
        <div class="hero-content">
            <h1>ÙØ®Ø§Ù…Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</h1>
            <p>Ø§ÙƒØªØ´Ù ØªØ´ÙƒÙŠÙ„Ø© ÙˆØ§Ø³Ø¹Ø© Ù…Ù† Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„ØªÙ†Ø§Ø³Ø¨ Ø°ÙˆÙ‚Ùƒ Ø§Ù„Ø±ÙÙŠØ¹ØŒ Ù…Ø¹ Ø®Ø¯Ù…Ø© ØªÙˆØµÙŠÙ„ Ø³Ø±ÙŠØ¹Ø© Ù„ÙƒÙ„ Ù…Ø¯Ù† Ø§Ù„Ù…Ù…Ù„ÙƒØ©.</p>
        </div>
    </section>

    <!-- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« -->
    <div class="search-container">
        <div class="search-input-wrapper">
            <input type="text" id="searchInput" class="search-input" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†ØªØ¬Ùƒ Ø§Ù„Ù…ÙØ¶Ù„ (Ø¹Ø·ÙˆØ±ØŒ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§ØªØŒ Ø¬Ù…Ø§Ù„...)">
            <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <circle cx="11" cy="11" r="8"></circle>
                <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
        </div>
    </div>

    <!-- Ø§Ù„ÙØ¦Ø§Øª -->
    <div style="max-width: 1200px; margin: 20px auto; padding: 0 20px;">
        <h2 style="font-size: 2rem; border-right: 5px solid var(--primary-color); padding-right: 15px; margin-bottom: 30px;">
            ØªØ³ÙˆÙ‚ Ø­Ø³Ø¨ Ø§Ù„ÙØ¦Ø©
        </h2>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 15px;">
            <div class="category-item active" data-category="all">
                <span style="font-size: 2.5rem; display: block; margin-bottom: 10px;">ğŸ›ï¸</span>
                <strong>Ø§Ù„ÙƒÙ„</strong>
            </div>
            <div class="category-item" data-category="beauty">
                <span style="font-size: 2.5rem; display: block; margin-bottom: 10px;">ğŸ’…</span>
                <strong>Ø§Ù„Ø¬Ù…Ø§Ù„</strong>
            </div>
            <div class="category-item" data-category="health">
                <span style="font-size: 2.5rem; display: block; margin-bottom: 10px;">ğŸ©º</span>
                <strong>Ø§Ù„ØµØ­Ø©</strong>
            </div>
            <div class="category-item" data-category="electronics">
                <span style="font-size: 2.5rem; display: block; margin-bottom: 10px;">ğŸ’»</span>
                <strong>Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª</strong>
            </div>
            <div class="category-item" data-category="home">
                <span style="font-size: 2.5rem; display: block; margin-bottom: 10px;">ğŸ¡</span>
                <strong>Ø§Ù„Ù…Ù†Ø²Ù„</strong>
            </div>
        </div>
    </div>

    <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
    <div class="container" style="max-width: 1200px; margin: 40px auto; padding: 0 20px;">
        <div id="loading" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 30px; margin-bottom: 40px;">
            <div class="product-card skeleton" style="height: 400px; border: none;"></div>
            <div class="product-card skeleton" style="height: 400px; border: none;"></div>
            <div class="product-card skeleton" style="height: 400px; border: none;"></div>
            <div class="product-card skeleton" style="height: 400px; border: none;"></div>
        </div>

        <div id="productsGrid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 30px;">
            <!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ØªÙØ­Ù…Ù„ Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
        </div>

        <div id="productCount" style="text-align: center; margin: 20px 0; color: #666;"></div>

        <button id="loadMoreBtn" style="display: none; margin: 60px auto; padding: 18px 60px; background: var(--primary-color); color: white; border: none; border-radius: 50px; font-size: 1.2rem; font-weight: bold; cursor: pointer;">
            Ø§ÙƒØªØ´Ù Ø§Ù„Ù…Ø²ÙŠØ¯
        </button>
    </div>

    <!-- Floating WhatsApp -->
    <a href="https://wa.me/201110760081" class="floating-whatsapp" target="_blank" title="ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¨Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨">
        <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12.031 6.172c-3.181 0-5.767 2.586-5.768 5.766-.001 1.298.38 2.27 1.019 3.287l-.582 2.128 2.182-.573c.978.58 1.911.928 3.145.929 3.178 0 5.767-2.587 5.768-5.766 0-3.18-2.587-5.771-5.764-5.771zm3.392 8.244c-.144.405-.837.774-1.17.824-.299.045-.677.063-1.092-.069-.252-.08-.575-.187-.988-.365-1.739-.751-2.874-2.502-2.961-2.617-.087-.116-.708-.94-.708-1.793s.448-1.273.607-1.446c.159-.173.346-.217.462-.217s.231.006.332.012c.109.006.252-.041.397.308.145.348.499 1.223.541 1.312.041.089.068.191.008.312-.06.121-.09.197-.181.302-.09.105-.19.235-.272.316-.09.09-.184.188-.079.365.105.177.465.766.997 1.239.685.611 1.26.802 1.437.89.177.089.282.075.387-.041.105-.116.443-.518.562-.695.119-.177.239-.148.405-.087.166.061 1.054.497 1.234.587s.3.135.344.209c.044.075.044.436-.1.841z"/>
        </svg>
    </a>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Ø¹Ù† Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ</h3>
                <p>Ù†Ø­Ù† ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„ØªØ³ÙˆÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£ØµÙ„ÙŠØ© ÙÙŠ Ø§Ù„Ù…Ù…Ù„ÙƒØ©ØŒ Ù†Ø¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„ÙØ®Ø§Ù…Ø© ÙˆØ®Ø¯Ù…Ø© Ø§Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ù„Ø¶Ù…Ø§Ù† Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© ØªØ³ÙˆÙ‚.</p>
            </div>
            <div class="footer-section">
                <h3>Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h3>
                <ul class="footer-links">
                    <li><a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                    <li><a href="about.html">Ù…Ù† Ù†Ø­Ù†</a></li>
                    <li><a href="contact.html">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Ø§Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</h3>
                <ul class="footer-links">
                    <li><a href="shipping.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø´Ø­Ù†</a></li>
                    <li><a href="return-policy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø¥Ø±Ø¬Ø§Ø¹</a></li>
                    <li><a href="terms.html">Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</a></li>
                    <li><a href="privacy.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                <p>Ù…Ø¤Ø³Ø³Ø© alsooq-alsaudi</p>
                <p>Ø§Ù„Ù…Ù…Ù„ÙƒØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©</p>
                <p>Ø§Ù„Ø±ÙŠØ§Ø¶ 12211</p>
                <p style="margin-top: 15px; color: var(--accent-color); font-weight: bold; font-size: 1.1rem;">ÙˆØ§ØªØ³Ø§Ø¨: +201110760081</p>
                <p style="margin-top: 5px; font-size: 0.9rem;">Ø§Ù„Ø¨Ø±ÙŠØ¯: sherow1982@gmail.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2026 Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠ - ÙØ®Ø§Ù…Ø© Ø§Ù„ØªØ³ÙˆÙ‚ Ø¨ÙŠÙ† ÙŠØ¯ÙŠÙƒ</p>
        </div>
    </footer>

    <script>
        const PRODUCTS_PER_PAGE = 24;
        let allProducts = [];
        let displayedProducts = [];
        let displayCount = PRODUCTS_PER_PAGE;
        let currentSearch = '';
        let currentCategory = 'all';

        const productsGrid = document.getElementById('productsGrid');
        const loading = document.getElementById('loading');
        const loadMoreBtn = document.getElementById('loadMoreBtn');
        const productCount = document.getElementById('productCount');

        function createSlug(product) {
            const stopWords = ['Ù…Ù†', 'ÙÙŠ', 'Ø¹Ù„Ù‰', 'Ø§Ù„Ù‰', 'Ø¹Ù†', 'Ùˆ', 'Ù…Ø¹', 'ÙŠØ§', 'Ø£ÙŠÙ‡Ø§'];
            let title = product.title;
            stopWords.forEach(word => {
                title = title.replace(new RegExp(` ${word} `, 'gi'), ' ');
            });
            let slug = title.toLowerCase().trim()
                .replace(/[^\w\s\u0600-\u06FF-]/g, '')
                .replace(/\s+/g, '-');
            if (slug.length > 100) slug = slug.substring(0, 100).replace(/-$/, '');
            return `${product.id}-${slug}`;
        }

        function renderProducts(reset = false) {
            if (reset) {
                productsGrid.innerHTML = '';
                displayCount = PRODUCTS_PER_PAGE;
            }

            const items = displayedProducts.slice(0, displayCount);

            if (items.length === 0) {
                productsGrid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; padding: 60px 20px; color: #777; font-size: 1.2rem;">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ø¨Ø­Ø« Ø£Ùˆ Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø©</div>';
                loadMoreBtn.style.display = 'none';
                productCount.textContent = '';
                return;
            }

            loading.style.display = 'none';

            items.forEach(product => {
                const discount = Math.round(((product.price - product.sale_price) / product.price) * 100) || 0;
                const slug = createSlug(product);

                const card = document.createElement('div');
                card.className = 'product-card';
                card.style.cursor = 'pointer';
                card.style.userSelect = 'none';

                card.onclick = function(e) {
                    if (e.target.closest('.buy-button')) return;
                    window.location.href = `products/${slug}.html`;
                };

                card.innerHTML = `
                    <div class="product-image-wrapper">
                        <img src="${product.image_link}" alt="${product.title}" class="product-image" loading="lazy">
                        ${discount > 0 ? `<span class="product-badge">Ø®ØµÙ… ${discount}%</span>` : ''}
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.title}</h3>
                        <div class="product-price-row">
                            <span class="price-current">${product.sale_price} Ø±.Ø³</span>
                            <span class="price-old">${product.price} Ø±.Ø³</span>
                        </div>
                        <a href="products/${slug}.html" class="buy-button">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
                    </div>
                `;

                productsGrid.appendChild(card);
            });

            productCount.textContent = `Ø¹Ø±Ø¶ ${displayedProducts.length} Ù…Ù†ØªØ¬`;

            loadMoreBtn.style.display = displayedProducts.length > displayCount ? 'block' : 'none';
        }

        function filterProducts() {
            displayedProducts = allProducts.filter(p => {
                const matchSearch = !currentSearch || p.title.toLowerCase().includes(currentSearch.toLowerCase());
                const matchCategory = currentCategory === 'all' || 
                    (currentCategory === 'beauty' && /Ø´Ø¹Ø±|Ø¨Ø´Ø±Ø©|ÙƒØ±ÙŠÙ…|Ø¬Ù…Ø§Ù„|Ù…ÙƒÙŠØ§Ø¬/i.test(p.title)) ||
                    (currentCategory === 'health' && /ØµØ­Ø©|ÙÙŠØªØ§Ù…ÙŠÙ†|Ø¹Ù„Ø§Ø¬|Ù…ÙƒÙ…Ù„/i.test(p.title)) ||
                    (currentCategory === 'electronics' && /Ø¬Ù‡Ø§Ø²|Ù…Ø§ÙƒÙŠÙ†Ø©|ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ|Ø¬ÙˆØ§Ù„|Ø³Ø§Ø¹Ø©/i.test(p.title)) ||
                    (currentCategory === 'home' && /Ù…Ù†Ø²Ù„|Ù…Ø·Ø¨Ø®|Ø£Ø¯ÙˆØ§Øª/i.test(p.title));
                return matchSearch && matchCategory;
            });

            renderProducts(true);
        }

        async function init() {
            try {
                const res = await fetch('products.json');
                if (!res.ok) throw new Error('ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ products.json');
                allProducts = await res.json();
                displayedProducts = [...allProducts];
                renderProducts();
            } catch (e) {
                console.error(e);
                loading.innerHTML = '<div style="grid-column:1/-1; text-align:center; padding:80px;color:#c00;">ØªØ¹Ø°Ø± ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª<br>ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ù„Ù products.json ÙÙŠ Ù†ÙØ³ Ø§Ù„Ù…Ø¬Ù„Ø¯</div>';
            }
        }

        // Ø£Ø­Ø¯Ø§Ø«
        document.getElementById('searchInput').addEventListener('input', e => {
            currentSearch = e.target.value.trim();
            filterProducts();
        });

        document.querySelectorAll('.category-item').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.category-item').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                currentCategory = btn.dataset.category;
                filterProducts();
            });
        });

        loadMoreBtn.addEventListener('click', () => {
            displayCount += PRODUCTS_PER_PAGE;
            renderProducts();
        });

        // Mobile menu
        const menuToggle = document.getElementById('menuToggle');
        const navLinks = document.getElementById('navLinks');
        menuToggle?.addEventListener('click', () => {
            navLinks.classList.toggle('active');
            menuToggle.classList.toggle('active');
        });

        init();

        // Fix extension port errors
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            chrome.runtime.onConnect?.addListener(function(port) {
                port.onDisconnect.addListener(function() {
                    if (chrome.runtime.lastError) {
                        // Silently ignore extension port errors
                    }
                });
            });
        }
    </script>
</body>
</html>